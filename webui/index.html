<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPatch-Next</title>
    <script src="index.js" type="module"></script>
    <link rel="stylesheet" href="styles.css" type="text/css">
</head>
<body>
    <div class="root_layout">
        <div class="top-bar">
            <div class="top-bar-content">
                <md-icon-button id="back-btn">
                    <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z" /></svg></md-icon>
                </md-icon-button>
                <div class="title" slot="headline">KPatch Next</div>
                <div class="top-bar-trailing-icon" id="home-icon">
                    <md-icon-button id="patch-btn">
                        <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><rect fill="none" height="24" width="24" /></g><g><g><path d="M17,18H7V6h7V1H7C5.9,1,5,1.9,5,3v18c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2v-5h-2V18z" /><polygon points="18,14 23,9 21.59,7.59 19,10.17 19,3 17,3 17,10.17 14.41,7.59 13,9" /></g></g></svg></md-icon>
                    </md-icon-button>
                    <md-icon-button id="reboot">
                        <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-84 31.5-156.5T197-763l56 56q-44 44-68.5 102T160-480q0 134 93 227t227 93q134 0 227-93t93-227q0-67-24.5-125T707-707l56-56q54 54 85.5 126.5T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-40-360v-440h80v440h-80Z" /></svg></md-icon>
                    </md-icon-button>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Home -->
            <div id="home-page" class="page active">
                <div class="card home-card warning-card content-padding" hidden id="not-installed">
                    <md-ripple></md-ripple>
                    <md-icon class="leading-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m344-60-76-128-144-32 14-148-98-112 98-112-14-148 144-32 76-128 136 58 136-58 76 128 144 32-14 148 98 112-98 112 14 148-144 32-76 128-136-58-136 58Zm136-220q17 0 28.5-11.5T520-320q0-17-11.5-28.5T480-360q-17 0-28.5 11.5T440-320q0 17 11.5 28.5T480-280Zm-40-160h80v-240h-80v240Z" /></svg></md-icon>
                    <div class="home-card-text">
                        <div class="home-card-title">Not installed or authenticated</div>
                        <div class="home-card-subtitle">Click to install</div>
                    </div>
                    <md-filled-button id="authenticate">SuperKey</md-filled-button>
                </div>
                <div class="card home-card content-padding" id="working">
                    <md-ripple></md-ripple>
                    <md-icon class="leading-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m424-296 282-282-56-56-226 226-114-114-56 56 170 170Zm56 216q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z" /></svg></md-icon>
                    <div class="home-card-text">
                        <div class="home-card-title">Working</div>
                        <div class="home-card-subtitle" id="version"></div>
                    </div>
                    <md-text-button id="uninstall">Uninstall</md-text-button>
                </div>
                <div class="card info-card content-padding" id="info">
                    <div class="info">
                        <div slot="title">Kernel version</div>
                        <div slot="detail" id="kernel"></div>
                    </div>
                    <div class="info">
                        <div slot="title">System version</div>
                        <div slot="detail" id="system"></div>
                    </div>
                    <div class="info">
                        <div slot="title">Fingerprint</div>
                        <div slot="detail" id="fingerprint"></div>
                    </div>
                    <div class="info">
                        <div slot="title">SELinux status</div>
                        <div slot="detail" id="selinux"></div>
                    </div>
                </div>
            </div>
            <!-- KPM -->
            <div id="kpm-page" class="page">
                
            </div>
            <!-- Settings -->
            <div id="settings-page" class="page">
                <div class="list-item" id="clear-superkey">
                    <md-ripple></md-ripple>
                    <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M280-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 120q-100 0-170-70T40-480q0-100 70-170t170-70q81 0 141.5 46T506-560h335l79 79-140 160-100-79-80 80-80-80h-14q-25 72-87 116t-139 44Z"/></svg></md-icon>
                    <div slot="headline">Clear SuperKey</div>
                </div>
            </div>
            <!-- Patch/UnPatch -->
            <div id="patch-page" class="page">
                <div class="card content-padding" id="kpimg">
                    <div class="card-title" slot="headline">kpimg</div>
                    <div id="kpimg-version"></div>
                    <div id="kpimg-time"></div>
                    <div id="kpimg-config"></div>
                </div>
                <div class="card content-padding" id="kernel">
                    <div class="card-title" slot="headline">Kernel</div>
                    <div id="kernel-info"></div>
                </div>
                <div class="card content-padding" id="superkey">
                    <div class="card-title" slot="headline">SuperKey</div>
                    <md-outlined-text-field label="Set SuperKey" type="password" class="password-field">
                        <md-icon-button toggle selected slot="trailing-icon">
                            <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z" /></svg></md-icon>
                            <md-icon slot="selected"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z" /></svg></md-icon>
                        </md-icon-button>
                    </md-outlined-text-field>
                </div>
                <div class="trailing-btn content-padding">
                    <md-filled-button id="embed">Embed KPM</md-filled-button>
                    <md-filled-button id="start" disabled>Start</md-filled-button>
                </div>
                <div class="output-terminal content-padding" id="patch-terminal"></div>
            </div>
        </div>

        <div class="bottom-bar">
            <div class="bottom-bar-item" id="home" selected>
                <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z" /></svg></md-icon>
                <md-icon slot="selected"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none" /><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /></svg></md-icon>
                <div class="bottom-bar-item-text">Home</div>
            </div>
            <div class="bottom-bar-item" id="KPM">
                <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M22.61 18.99l-9.08-9.08c.93-2.34.45-5.1-1.44-7C9.79.61 6.21.4 3.66 2.26L7.5 6.11 6.08 7.52 2.25 3.69C.39 6.23.6 9.82 2.9 12.11c1.86 1.86 4.57 2.35 6.89 1.48l9.11 9.11c.39.39 1.02.39 1.41 0l2.3-2.3c.4-.38.4-1.01 0-1.41zm-3 1.6l-9.46-9.46c-.61.45-1.29.72-2 .82-1.36.2-2.79-.21-3.83-1.25C3.37 9.76 2.93 8.5 3 7.26l3.09 3.09 4.24-4.24-3.09-3.09c1.24-.07 2.49.37 3.44 1.31 1.08 1.08 1.49 2.57 1.24 3.96-.12.71-.42 1.37-.88 1.96l9.45 9.45-.88.89z" /></svg></md-icon>
                <md-icon slot="selected"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path clip-rule="evenodd" d="M0 0h24v24H0z" fill="none" /><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" /></svg></md-icon>
                <div class="bottom-bar-item-text">KPModule</div>
            </div>
            <div class="bottom-bar-item" id="settings">
                <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z" /></svg></md-icon>
                <md-icon slot="selected"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm112-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z" /></svg></md-icon>
                <div class="bottom-bar-item-text">Settings</div>
            </div>
        </div>
    </div>

    <!-- Dialog -->
    <div class="dialog-wrapper" unresolved>
        <md-dialog class="text-field-dialog" id="superkey-dialog">
            <div slot="headline">Enter SuperKey</div>
            <div slot="content">
                <md-outlined-text-field label="SuperKey" type="password" class="password-field">
                    <md-icon-button toggle selected slot="trailing-icon">
                        <md-icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z" /></svg></md-icon>
                        <md-icon slot="selected"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z" /></svg></md-icon>
                    </md-icon-button>
                </md-outlined-text-field>
            </div>
            <div slot="actions">
                <md-text-button class="cancel">Cancel</md-text-button>
                <md-filled-button class="confirm" disabled>OK</md-filled-button>
            </div>
        </md-dialog>
        <md-dialog id="authentication-failed-dialog">
            <div slot="headline">Authentication failed</div>
            <div slot="content">
                Unable to authenticate the SuperKey, therefore KPatch Next cannot work properly. Please try again.
            </div>
            <div slot="actions">
                <md-text-button class="confirm">OK</md-text-button>
            </div>
        </md-dialog>
        <md-dialog id="clear-superkey-dialog">
            <div slot="headline">Clear SuperKey</div>
            <div slot="content">Do you really want to proceed?</div>
            <div slot="actions">
                <md-text-button class="cancel">Cancel</md-text-button>
                <md-text-button class="confirm">OK</md-text-button>
            </div>
        </md-dialog>
    </div>
</body>
</html>
